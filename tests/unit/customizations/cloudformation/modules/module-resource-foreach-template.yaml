AWSTemplateFormatVersion: '2010-09-09'
Parameters:
  Environments:
    Type: CommaDelimitedList
    Default: dev,test,prod

Modules:
  ServiceModule:
    Source: ./module-resource-foreach-module.yaml
    Properties:
      Environments: !Ref Environments
      BucketPrefix: my-service

Outputs:
  AllBucketArns:
    Description: "All bucket ARNs from the module"
    Value: !GetAtt ServiceModule.BucketArns
  
  DevBucketArn:
    Description: "Dev bucket ARN from the module"
    Value: !GetAtt ServiceModule.DevBucketArn
