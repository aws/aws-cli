[
  {
    "name": "s3.cp.upload",
    "command": ["s3", "cp", "test_file", "s3://bucket/test_file", "--quiet"],
    "dimensions": [
      {"FileSize": "32MB"},
      {"S3TransferClient": "Classic"}
    ],
    "environment": {
      "files": [
        {
          "name": "test_file",
          "size": 3.2e7
        }
      ],
      "config": "[default]\ns3 =\n preferred_transfer_client = classic"
    },
    "responses": [
      {
        "body": "<InitiateMultipartUploadResult><Bucket>bucket</Bucket>  <Key>key</Key>  <UploadId>upload-id</UploadId></InitiateMultipartUploadResult>"
      },
      {
        "headers": {"ETag": "etag"},
        "instances": 4
      },
      {
        "body": "<CompleteMultipartUploadResult><Bucket>bucket</Bucket>  <Key>key</Key>  <ETag>etag-123</ETag></CompleteMultipartUploadResult>"
      }
    ]
  },
  {
    "name": "s3.mv.upload",
    "command": ["s3", "mv", "test_file", "s3://bucket/test_file", "--quiet"],
    "dimensions": [
      {"FileSize": "32MB"}
    ],
    "environment": {
      "files": [
        {
          "name": "test_file",
          "size": 3.2e7
        }
      ]
    },
    "responses": [
      {
        "headers": {},
        "body": "<InitiateMultipartUploadResult><Bucket>bucket</Bucket>  <Key>key</Key>  <UploadId>upload-id</UploadId></InitiateMultipartUploadResult>"
      },
      {
        "headers": {"ETag":  "etag"},
        "instances": 4
      },
      {
        "headers": {},
        "body": "<CompleteMultipartUploadResult><Bucket>bucket</Bucket>  <Key>key</Key>  <ETag>etag-123</ETag></CompleteMultipartUploadResult>"
      }
    ]
  },
  {
    "name": "s3.mv.download",
    "command": ["s3", "mv", "s3://bucket/test_file123", "./test_file123", "--quiet"],
    "dimensions": [
      {"FileSize": "32MB"},
      {"S3TransferClient": "Classic"}
    ],
    "environment": {
      "config": "[default]\ns3 =\n preferred_transfer_client = classic"
    },
    "responses": [
      {
        "headers": {"Content-Length": "0", "Last-Modified": "Thu, 18 Oct 2018 23:00:00 GMT", "ETag": "etag-1"}
      },
      {
        "headers": {"Content-Length": "7", "Last-Modified": "Thu, 18 Oct 2018 23:00:00 GMT", "ETag": "etag-1"},
        "body": "content"
      },
      {}
    ]
  },
  {
    "name": "s3.sync.upload",
    "command": ["s3", "sync", "./test_dir", "s3://bucket/test_dir", "--quiet"],
    "dimensions": [
      {"FileCount": "5,000"},
      {"FileSize": "4KB"},
      {"S3TransferClient": "Classic"}
    ],
    "environment": {
      "file_dirs": [
        {
          "name": "test_dir",
          "file_count": 5e3,
          "file_size": 4e3
        }
      ],
      "config": "[default]\ns3 =\n preferred_transfer_client = classic"
    },
    "responses": [
      {
        "body": "<ListBucketResult><Contents><LastModified>2015-12-08T18:26:43.000Z</LastModified>  <Key>key</Key>  <Size>100</Size>  </Contents>  <Prefix/></ListBucketResult>"
      },
      {
        "headers": {"ETag": "etag"},
        "instances": 5e3
      }
    ]
  },
  {
    "name": "dynamodb.getitem",
    "command": ["dynamodb", "get-item", "--table-name", "MyTable", "--key", "file://key.json", "--return-consumed-capacity", "TOTAL"],
    "environment": {
      "file_literals": [
        {
          "name": "key.json",
          "content": "{\n \"Group\": {\"S\": \"Group1\"},\n \"Item\": {\"S\": \"Item1\"} }"
        }
      ]
    },
    "responses": [
      {
        "body": "{\"ConsumedCapacity\": {\"CapacityUnits\": 0.5, \"TableName\": \"MyTable\"}, \"Item\": {\"Group\": {\"S\": \"Group1\"}, {\"Item\": {\"S\": \"Item1\"} }"
      }
    ]
  },
  {
    "name": "dynamodb.batchgetitem",
    "command": ["dynamodb", "batch-get-item", "--request-items", "file://request-items.json", "--return-consumed-capacity", "TOTAL", "--no-cli-pager"],
    "environment": {
      "file_literals": [
        {
          "name": "request-items.json",
          "content": "{\"MyTable\": { \"Keys\": [ {\"Group\": {\"S\": \"Group1\"}, \"Item\": {\"S\": \"Item1\"}}, { \"Group\": {\"S\": \"Group1\"}, \"Item\": {\"S\": \"Item1\"} }, { \"Group\": {\"S\": \"Group1\"}, \"Item\": {\"S\": \"Item1\"} }],\"ProjectionExpression\":\"Genre\"}}"
        }
      ]
    },
    "responses": [
      {
        "body": "{\"Responses\": {\"MyTable\": [{\"Genre\": {\"S\": \"Genre1\"}}, {\"Genre\": {\"S\": \"Genre2\"}},{\"Genre\": {\"S\": \"Genre3\"}}]}, \"UnprocessedKeys\": {},\"ConsumedCapacity\": [{\"TableName\": \"MyTable\",\"CapacityUnits\": 1.5}]}"
      }
    ]
  },
  {
    "name": "dynamodb.putitem",
    "command": ["dynamodb", "put-item", "--table-name", "MyTable", "--item", "file://item.json", "--return-consumed-capacity", "TOTAL", "--return-item-collection-metrics", "SIZE", "--no-cli-pager"],
    "environment": {
      "file_literals": [
        {
          "name": "item.json",
          "content": "{\"Group\": {\"S\": \"Group1\"},\"Item\": {\"S\": \"Item1\"},\"Category\": {\"S\": \"Category1\"}}"
        }
      ]
    },
    "responses": [
      {
        "body": "{\"ConsumedCapacity\": {\"TableName\": \"MyTable\",\"CapacityUnits\": 1.0}, \"ItemCollectionMetrics\": {\"ItemCollectionKey\": {\"Group\": {\"S\": \"Group1\"}}, \"SizeEstimateRangeGB\": [0.0, 1.0]}}"
      }
    ]
  },
  {
    "name": "ddb.put",
    "command": ["ddb", "put", "MyTable", "file://items.json"],
    "dimensions": [
      {"ItemCount": 10}
    ],
    "environment": {
      "file_literals": [
        {
          "name": "items.json",
          "content": "[{\"Category\": \"Cat1\",\"Item\": \"Item1\",\"Group\": \"Group1\"}, {\"Category\": \"Cat1\",\"Item\": \"Item2\",\"Group\": \"Group2\"}, {\"Category\": \"Cat1\",\"Item\": \"Item3\",\"Group\": \"Group2\"}, {\"Category\": \"Cat2\",\"Item\": \"Item4\",\"Group\": \"Group3\"}, {\"Category\": \"Cat2\",\"Item\": \"Item5\",\"Group\": \"Group4\"}, {\"Category\": \"Cat3\",\"Item\": \"Item6\",\"Group\": \"Group5\"}, {\"Category\": \"Cat3\",\"Item\": \"Item7\",\"Group\": \"Group6\"}, {\"Category\": \"Cat3\",\"Item\": \"Item8\",\"Group\": \"Group6\"}, {\"Category\": \"Cat4\",\"Item\": \"Item9\",\"Group\": \"Group7\"}, {\"Category\": \"Cat4\",\"Item\": \"Item10\",\"Group\": \"Group4\"}]"
        }
      ]
    },
    "responses": [
      {
        "body": "{\"UnprocessedItems\":{}}"
      }
    ]
  }
]
